<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>与廷廷一起的vp生活 | foreverlasting's blog</title><meta name="keywords" content="OI"><meta name="author" content="foreverlasting"><meta name="copyright" content="foreverlasting"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="和廷廷一起快乐$vp$啦！（然后我$CSP$就退役了 若是$\color{silver}{*}$，表示不补了。 2015-2016 Petrozavodsk Winter Training Camp, Makoto rng_58 Soejima Сontest 4这场苟一苟就苟住了啊，还好。 A 2016感觉一下这样的数不会很多，于是写个暴力开始跑，跑个两小时就出来了，只有$1123$种，复杂度$">
<meta property="og:type" content="article">
<meta property="og:title" content="与廷廷一起的vp生活">
<meta property="og:url" content="http://foreverlasting1202.github.io/2019/11/01/%E5%92%8C%E5%BB%B7%E5%BB%B7%E7%9A%84vp%E7%94%9F%E6%B4%BB/index.html">
<meta property="og:site_name" content="foreverlasting&#39;s blog">
<meta property="og:description" content="和廷廷一起快乐$vp$啦！（然后我$CSP$就退役了 若是$\color{silver}{*}$，表示不补了。 2015-2016 Petrozavodsk Winter Training Camp, Makoto rng_58 Soejima Сontest 4这场苟一苟就苟住了啊，还好。 A 2016感觉一下这样的数不会很多，于是写个暴力开始跑，跑个两小时就出来了，只有$1123$种，复杂度$">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://pic.imgdb.cn/item/61fa049e2ab3f51d91b7852f.jpg">
<meta property="article:published_time" content="2019-11-01T09:50:00.000Z">
<meta property="article:modified_time" content="2022-02-01T14:42:23.207Z">
<meta property="article:author" content="foreverlasting">
<meta property="article:tag" content="OI">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://pic.imgdb.cn/item/61fa049e2ab3f51d91b7852f.jpg"><link rel="shortcut icon" href="/img/1.jpg"><link rel="canonical" href="http://foreverlasting1202.github.io/2019/11/01/%E5%92%8C%E5%BB%B7%E5%BB%B7%E7%9A%84vp%E7%94%9F%E6%B4%BB/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'days',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '与廷廷一起的vp生活',
  isPost: true,
  isHome: false,
  isHighlightShrink: true,
  isToc: true,
  postUpdate: '2022-02-01 22:42:23'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 5.4.1"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/cccute.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">144</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">4</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">Categories</div><div class="length-num">40</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-paper-plane"></i><span> Messageboard</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/timeline/"><i class="fa-fw fa fa-bell"></i><span> Timeline</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-sitemap"></i><span> About</span></a></div><div class="menus_item"><a class="site-page" href="/myself/"><i class="fa-fw fa fa-id-card"></i><span> myself</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://pic.imgdb.cn/item/61fa049e2ab3f51d91b7852f.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">foreverlasting's blog</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-paper-plane"></i><span> Messageboard</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/timeline/"><i class="fa-fw fa fa-bell"></i><span> Timeline</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-sitemap"></i><span> About</span></a></div><div class="menus_item"><a class="site-page" href="/myself/"><i class="fa-fw fa fa-id-card"></i><span> myself</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">与廷廷一起的vp生活</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2019-11-01T09:50:00.000Z" title="Created 2019-11-01 17:50:00">2019-11-01</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2022-02-01T14:42:23.207Z" title="Updated 2022-02-01 22:42:23">2022-02-01</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%81%9A%E9%A2%98%E8%AE%B0%E5%BD%95/">做题记录</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="与廷廷一起的vp生活"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>和廷廷一起快乐$vp$啦！（然后我$CSP$就退役了</p>
<p>若是$\color{silver}{*}$，表示不补了。<br><span id="more"></span></p>
<h2 id="2015-2016-Petrozavodsk-Winter-Training-Camp-Makoto-rng-58-Soejima-Сontest-4"><a href="#2015-2016-Petrozavodsk-Winter-Training-Camp-Makoto-rng-58-Soejima-Сontest-4" class="headerlink" title="2015-2016 Petrozavodsk Winter Training Camp, Makoto rng_58 Soejima Сontest 4"></a>2015-2016 Petrozavodsk Winter Training Camp, Makoto rng_58 Soejima Сontest 4</h2><p>这场苟一苟就苟住了啊，还好。</p>
<h3 id="A-2016"><a href="#A-2016" class="headerlink" title="A 2016"></a>A 2016</h3><p>感觉一下这样的数不会很多，于是写个暴力开始跑，跑个两小时就出来了，只有$1123$种，复杂度$O(1)$。（大雾</p>
<h3 id="B-Airports"><a href="#B-Airports" class="headerlink" title="B Airports"></a>B Airports</h3><p>曼哈顿距离最大生成树这东西，直接上$Boruvka$，用$set$维护下四个方向的最大值，就完事了。</p>
<p>廷廷有个更好的做法，曼哈顿转为切比雪夫之后，每个点向最大最小连边，直接跑最大生成树。证明这个挺容易的，因为$i-&gt;n-&gt;1-&gt;j$肯定会在$i-&gt;j$之前出现。这样还少一个$log$呢。</p>
<h3 id="C-Jump"><a href="#C-Jump" class="headerlink" title="C Jump"></a>C Jump</h3><p>可以发现答案只跟$s+t$与$s-t$有关，即$2a_{i_1}-2a_{i_2}+…=s\pm t$。然后用$bfs$预处理出$s+t$和$s-t$的所有答案，分奇偶讨论一下就好了。</p>
<h3 id="D-Merge"><a href="#D-Merge" class="headerlink" title="D Merge"></a>D Merge</h3><p>数列会多算，是因为公共子段的问题，为了方便描述，我们定义一个数列为好数列当且仅当它由两个公共子段合并而来且其任意一个前缀都不是这样的。</p>
<p>设$dp[i][j]$表示到了第一个串的$[1,i]$和第二个串的$[1,j]$的方案数，最终答案为$dp[n][n]$。</p>
<p>转移考虑枚举公共子段，在前缀这里即为公共后缀$lcs(i,j)$，所以转移就是</p>
<p>$dp[i][j]=dp[i-1][j]+dp[i][j-1]-\sum_{k=1}^{lcs(i,j)} g_k\ast dp[i-k][j-k]$，其中$g_k$表示长度为$k$的公共子段合并出来的好数列的方案数，转移的意思就是枚举最终数列末尾为$2k$的好数列，只有这部分会被算重。</p>
<p>现在的瓶颈在于$g_k$的计算，考虑把第一个串看成左括号，第二个串看成右括号，则有</p>
<p>$g_k=C_k-\sum_{i=1}^{k-1}g_iC_{k-i}=\sum_{i=1}^{k}C_{i-1}C_{k-i}-\sum_{i=1}^{k-1}g_iC_{k-i}=C_{k-1}+\sum_{i=1}^{k-1}C_{k-i}(g_i-C_{i-1})$，即$(g_k-C_{k-1})=\sum_{i=1}^{k-1}C_{k-i}(g_i-C_{i-1})$，数列递推或归纳都可得$g_k=C_{k-1}$，其中$C_k$表示卡特兰数的第$k$项。</p>
<h3 id="E-Mirror-Rice-Cake"><a href="#E-Mirror-Rice-Cake" class="headerlink" title="E Mirror Rice Cake"></a>E Mirror Rice Cake</h3><p>显然先放越小的越优，然后就好了。</p>
<h3 id="F-Number-Cards"><a href="#F-Number-Cards" class="headerlink" title="F Number Cards"></a>F Number Cards</h3><p>连续读错题意。搞出相同颜色的连续区间后，发现只要$\frac{l_i-1}{m}=\frac{r_i-1}{m}$即可。这个东西，类似整除分块那样分析一样即可。或者暴力算也是对的。</p>
<h3 id="G-Paint"><a href="#G-Paint" class="headerlink" title="G Paint"></a>G Paint</h3><p>首先$dfs$出所有断点处，假装这样的断点可能不会很多（实际的确不多，大概只是$O(n!)$这个级别，假装是$O(A)$个）于是就会得到$\sum_{i=1}^k (x_i+y_i)+x_{k+1}=n$的方程，$x_i$表示第$i$段连续白色段的长度，$y_i$表示第$i$段连续黑色段的长度，其中$y_i\in [low_i,up_i],x_2,…,x_k\geq 1$，其中$low_i,up_i$为你枚举断点时所控的上下界。为了解出这个方程，由于$k$很小，直接暴力容斥算，即枚举几个$y_i$超过上界这样子，这里的复杂度看起来只是$O(2^k\ast A)$，但由于方程之间的解不一定不相同，即两个不同方程可能存在相同的解，所以还要再拿这个东西容斥一下，每次枚举几个方程扔进去。。。这样大概是$O(2^A\ast 2^k\ast A)$的样子，还有一堆常数，反正能跑过去就是了。</p>
<p>写起来好难啊。</p>
<h3 id="H-Random-Walk"><a href="#H-Random-Walk" class="headerlink" title="H Random Walk"></a>H Random Walk</h3><p>打的时候才发现这场有我做过的题。。。<a href="https://foreverlasting1202.github.io/2019/03/09/GYM100959H/">https://foreverlasting1202.github.io/2019/03/09/GYM100959H/</a></p>
<h3 id="I-Robots"><a href="#I-Robots" class="headerlink" title="I Robots"></a>I Robots</h3><p>跑个拆点最短路就做完了。</p>
<h3 id="J-Ropes"><a href="#J-Ropes" class="headerlink" title="J Ropes"></a>J Ropes</h3><p>显然的$prufer$序列，推下式子即可。</p>
<h3 id="K-Stains"><a href="#K-Stains" class="headerlink" title="K Stains"></a>K Stains</h3><p>做过。<a href="https://foreverlasting1202.github.io/2019/03/09/GyM100959K/">https://foreverlasting1202.github.io/2019/03/09/GyM100959K/</a></p>
<h3 id="L-String-Modification"><a href="#L-String-Modification" class="headerlink" title="L String Modification"></a>L String Modification</h3><p>枚举$s$的位置，然后暴力在$t$上往后扫就好了。细节还是挺多的。</p>
<h3 id="M-Team-Competition"><a href="#M-Team-Competition" class="headerlink" title="M Team Competition"></a>M Team Competition</h3><p>$n$为奇数很好办，枚举一个长度$d=1,2,…,\frac{n}{2}$，枚举一个点$i=1,2,…,n$作为开始，每一天是$i,i+d,i+d+d$（这里默认$n$个一循环），这样的话每一组$(p,q)$显然只出现三次。</p>
<p>$n$为偶数的话，我们发现可以构造$(p,q)$出现六次的情况。对于$1$到$n-1$的点先做一次上面的操作，再对$1$到$n-1$的点做一次$d$从$2$开始的上述操作，然后做$n,i,i+1$两次，$n,i,i+2$一次（这里$i=1,…,n-1$，以$n-1$为一循环)，这样就刚好构造出$(p,q)=6$的情况了。</p>
<h2 id="2016-North-American-Invitational-Programming-Contest"><a href="#2016-North-American-Invitational-Programming-Contest" class="headerlink" title="2016 North American Invitational Programming Contest"></a>2016 North American Invitational Programming Contest</h2><p>前期明明发挥这么好，最后一个半小时两个人同时开$G$，全部写挂。明明$G$被艹烂了啊，暴毙现场。</p>
<h3 id="A-color-silver-Fancy-color-silver-Antiques"><a href="#A-color-silver-Fancy-color-silver-Antiques" class="headerlink" title="A $\color{silver}{*Fancy}$ $\color{silver}{Antiques}$"></a>A $\color{silver}{*Fancy}$ $\color{silver}{Antiques}$</h3><p>暴搜？？按商店贵到便宜排序，然后写个估价函数？就能过了？</p>
<h3 id="B-Alternative-Bracket-Notation"><a href="#B-Alternative-Bracket-Notation" class="headerlink" title="B Alternative Bracket Notation"></a>B Alternative Bracket Notation</h3><p>模拟，按它说的用栈模拟就完事了，而且很好写，除了题面很难读。</p>
<h3 id="C-Greetings"><a href="#C-Greetings" class="headerlink" title="C Greetings!"></a>C Greetings!</h3><p>状压一下，$dp[i][S]$表示最多用了$i$个纸张，覆盖了集合为$S$的纸张们的最小代价。转移就是枚举子集。</p>
<h3 id="D-Programming-Team"><a href="#D-Programming-Team" class="headerlink" title="D Programming Team"></a>D Programming Team</h3><p>$01$分数规划$+$必须有上司的舞会，二分后$DP$一下即可。</p>
<h3 id="E-K-Inversions"><a href="#E-K-Inversions" class="headerlink" title="E K-Inversions"></a>E K-Inversions</h3><p>通配符匹配裸题，$FFT$一下即可。</p>
<h3 id="F-Mountain-Scenes"><a href="#F-Mountain-Scenes" class="headerlink" title="F Mountain Scenes"></a>F Mountain Scenes</h3><p>记$dp[i][j]$表示考虑前$i$个总共放了$j$个的方案数，背包转移就做完了。</p>
<h3 id="G-Symmetry"><a href="#G-Symmetry" class="headerlink" title="G Symmetry"></a>G Symmetry</h3><p>耻辱一题。枚举所有的对称中心和对称轴，然后暴力判下就好了。<del>不知道哪里写挂了。</del></p>
<p>看完$Claris$代码才发现，原来还有可能一堆点在同一条直线上啊，菜的不行。</p>
<h3 id="H-Jewel-Thief"><a href="#H-Jewel-Thief" class="headerlink" title="H Jewel Thief"></a>H Jewel Thief</h3><p>分治背包裸题。考虑$dp[i][j]$表示体积不超过$i$的物品，总容量不超过$j$的最大收益。对于当前体积$s$，将$j$按模$s$分组，发现组内具有决策单调性，分治背包即可。</p>
<h3 id="I-Tourists"><a href="#I-Tourists" class="headerlink" title="I Tourists"></a>I Tourists</h3><p>暴力。</p>
<h3 id="J-Whiteboard"><a href="#J-Whiteboard" class="headerlink" title="J Whiteboard"></a>J Whiteboard</h3><p>先填完，然后从后往前枚举时间点，黑白色用$set$维护即可。</p>
<h3 id="K-YATP"><a href="#K-YATP" class="headerlink" title="K YATP"></a>K YATP</h3><p>点分后，剩下的是一堆$(x,y)$的二元组，两个二元组$(x,y)$和$(a,b)$合并后的贡献就是$x\ast a+y+b$，$y$无视掉，就是$a\ast x+b$，于是李超线段树或凸包都可以做了。</p>
<h2 id="2019-Petrozavodsk-Winter-Camp-Yandex-Cup"><a href="#2019-Petrozavodsk-Winter-Camp-Yandex-Cup" class="headerlink" title="2019 Petrozavodsk Winter Camp, Yandex Cup"></a>2019 Petrozavodsk Winter Camp, Yandex Cup</h2><p>完全打不过，签完到之后剩下的时间也只能肝一道题了，好菜啊。</p>
<h3 id="A-Takeover"><a href="#A-Takeover" class="headerlink" title="A Takeover"></a>A Takeover</h3><p>每次贪心地扩展最小的，用堆维护一下即可。</p>
<h3 id="B-Unfair-Card-Deck"><a href="#B-Unfair-Card-Deck" class="headerlink" title="B Unfair Card Deck"></a>B Unfair Card Deck</h3><p>神仙概率题。</p>
<p>记$sum[i][j]$为$i$在$j$出现的次数，于是$\frac{sum[i][j]}{sum[j][i]}$就可以非常近似地表现出$\frac{w[i]}{w[j]}$了。具体实现上，你要每次拿出$w[i]$最大的，然后通过已经有的$w[i]$计算平均值从而算出当前的$w[i]$。注意几个细节，比如$\frac{sum[i][j]}{sum[j][i]}&lt;eps$时很可能就无法表现其间的$\frac{w[i]}{w[j]}$，应舍去这组样本。同时当平均值算出来小于$1e-300$时，为了更具表现性，我们要拿出之前算出来的最小的$w[i]$乘上$eps$从而保证这个平均值更具表现性。总的来说，这题好神仙啊。</p>
<h3 id="C-Diverse-Singing"><a href="#C-Diverse-Singing" class="headerlink" title="C Diverse Singing"></a>C Diverse Singing</h3><p>用上下界网络流限制条件，每个点至少被选一次则连出$[1,inf]$的边，每个点的颜色边最多一个则对于每个点的每种颜色连一条$[0,1]$即可。</p>
<h3 id="D-Pick-Your-Own-Nim"><a href="#D-Pick-Your-Own-Nim" class="headerlink" title="D Pick Your Own Nim"></a>D Pick Your Own Nim</h3><p>拟阵交，第一个拟阵维护异或和不为$0$，用线性基构造，第二个拟阵是每个堆最多选一个。</p>
<h3 id="E-Permutasino"><a href="#E-Permutasino" class="headerlink" title="E Permutasino"></a>E Permutasino</h3><p>看了半天，觉得究极眼熟。再定睛一看，原来朱老大搬过，甚至我还写过，雾。<a href="https://foreverlasting1202.github.io/2019/04/23/%E4%BD%99%E5%A7%9A%E9%9B%86%E8%AE%ADzzt%E6%8E%92%E5%88%97/">https://foreverlasting1202.github.io/2019/04/23/%E4%BD%99%E5%A7%9A%E9%9B%86%E8%AE%ADzzt%E6%8E%92%E5%88%97/</a></p>
<h3 id="F-color-silver-Planar-Max-Cut"><a href="#F-color-silver-Planar-Max-Cut" class="headerlink" title="F $\color{silver}{*Planar Max Cut}$"></a>F $\color{silver}{*Planar Max Cut}$</h3><p>听说是道平面图大码题，究极难写，溜了溜了。</p>
<h3 id="G-Battle-Royale"><a href="#G-Battle-Royale" class="headerlink" title="G Battle Royale"></a>G Battle Royale</h3><p>假装你现在知道$M$了，可以知道的是当点$i$在$M$的左边时，它能存活的时间显然是$a_i+\frac{(x_i-L)(R_i-L_i)}{M}$，右边同理求一下。然后发现这个东西显然是可以斜率优化，于是对于每个点$i$都可以得到两个决策点。于是就有好多个段，可以证明当它们作为最优的$M$是有二分性的。</p>
<h3 id="H-Jeopardy"><a href="#H-Jeopardy" class="headerlink" title="H Jeopardy"></a>H Jeopardy</h3><p>每行选出最小的就做完了。</p>
<h3 id="I-Slippers"><a href="#I-Slippers" class="headerlink" title="I Slippers"></a>I Slippers</h3><p>旋转相邻的可以转换成旋转任意的。先对所有相邻的左右鞋子连边，跑个最大匹配。如果有不在最大匹配上的点，与这个点旋转就好了，答案就是最大匹配。如果没有，算出总的旋转次数。由于旋转次数为$4$的倍数时肯定有解，否则让一个点不在最大匹配上，即答案为最大匹配减一。</p>
<h3 id="J-The-Good-the-Bad-and-the-Ugly"><a href="#J-The-Good-the-Bad-and-the-Ugly" class="headerlink" title="J The Good, the Bad and the Ugly"></a>J The Good, the Bad and the Ugly</h3><p>每次跳$3$的幂次，直到跳到$0$。到$0$之后随便判下即可。</p>
<h2 id="2017-2018-Petrozavodsk-Winter-Training-Camp-Saratov-SU-Contest"><a href="#2017-2018-Petrozavodsk-Winter-Training-Camp-Saratov-SU-Contest" class="headerlink" title="2017-2018 Petrozavodsk Winter Training Camp, Saratov SU Contest"></a>2017-2018 Petrozavodsk Winter Training Camp, Saratov SU Contest</h2><p>本来就只有罚时爆炸而已，结果题量又被打爆了。最后交一发$I$，评测到五十多个点的时候廷廷说稳了，然后$WA$在$72$，廷廷的奶好毒啊。</p>
<p>终于发现了，$I$没过，就是我$SA$板子有问题。</p>
<h3 id="A-Three-Arrays"><a href="#A-Three-Arrays" class="headerlink" title="A Three Arrays"></a>A Three Arrays</h3><p>对于每个位置二分合法区间，乘法原理即可。</p>
<h3 id="B-color-silver-Expected-color-silver-Shopping"><a href="#B-color-silver-Expected-color-silver-Shopping" class="headerlink" title="B $\color{silver}{*Expected}$ $\color{silver}{Shopping}$"></a>B $\color{silver}{*Expected}$ $\color{silver}{Shopping}$</h3><p>枚举大于$B$的选了多少个，假设为$k$个，那么你对于所有$a_i&gt;B$的分别计算贡献，记总共有$m$个，那么$a_i$的贡献就是$k!a_i{m-1\choose k-1}$，然后小于等于$B$的同理。实现上要写个高精度分数，所以弃疗了。</p>
<h3 id="C-Cover-the-Paths"><a href="#C-Cover-the-Paths" class="headerlink" title="C Cover the Paths"></a>C Cover the Paths</h3><p>假装每次拿$lca$最深的是对的，然后剩下来的就是树剖维护点权，判边是否经过有点权的点。</p>
<h3 id="D-Elevator"><a href="#D-Elevator" class="headerlink" title="D Elevator"></a>D Elevator</h3><p>先去掉$a_i\leq a_j$而且$t_i\leq t_j$的$i$，然后$f_i$表示把$i$及之前的人送完回来的最小时间，然后转移到$j$，如果$t_j&gt;f_i$，那么$cmin(f_j,f_i+2*max(a[i+1],…,a[j]))$，与$t_i$无关，否则的话就只能转移到最后一个$t_j&lt;=i$的位置。转移的时候二分查找即可。</p>
<h3 id="E-Code-Cola-Plants"><a href="#E-Code-Cola-Plants" class="headerlink" title="E Code-Cola Plants"></a>E Code-Cola Plants</h3><p>首先要满足$A$没有入边，$B$没有出边，且除了$AB$之外的点既要有入边又要有出边。</p>
<p>然后你从$B$向$A$连两条边，这样就只有度数限制了。</p>
<p>这样的话，一个选$A$的边集的方案合法，当且仅当每个点都只有一次作为出点，选$B$同理。</p>
<p>然后你建一个二分图，左边$2n$个点，分别表示每个点作为入点/出点，右边$m$个点，依次连边，跑个完美匹配就行了。</p>
<h3 id="F-GCD"><a href="#F-GCD" class="headerlink" title="F GCD"></a>F GCD</h3><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/bztMinamoto/p/10217834.html">https://www.cnblogs.com/bztMinamoto/p/10217834.html</a></p>
<p>廷廷做过类似的，随机一个位置，钦定这个位置不动。然后扫过去求$gcd$，然后从大到小枚举$gcd$，并把比它大的那些且是它倍数的$gcd$的出现次数加起来，如果某一次某个$gcd$出现次数大于一半，那么该答案可行即可。随机个$15$次差不多就过了。</p>
<h3 id="G-Berland-Post"><a href="#G-Berland-Post" class="headerlink" title="G Berland Post"></a>G Berland Post</h3><p>二分$+$差分约束裸题，注意一下精度即可。</p>
<h3 id="H-Compressed-Spanning-Subtrees"><a href="#H-Compressed-Spanning-Subtrees" class="headerlink" title="H Compressed Spanning Subtrees"></a>H Compressed Spanning Subtrees</h3><p>交互题。由于保证了$T$没有度数为$2$的节点，所以可以$n$次询问来判断每个点是不是叶子。然后钦定一个叶子为根，询问根、一个叶子、一个非叶子，可以判断这三个点是不是在同一条链上。最后对于叶子的所有祖先们按子树内叶子个数排序，从小到大安排祖先关系。由于没有度数为$2$的节点，所以叶子数都不同。于是正好卡在了$2550$。</p>
<h3 id="I-Prefix-free-Queries"><a href="#I-Prefix-free-Queries" class="headerlink" title="I Prefix-free Queries"></a>I Prefix-free Queries</h3><p>把读入的按字典序大小排序，然后每个串以它的最长后缀为父亲，没有父亲的就让$0$为它们的父亲。于是$dp[i]$表示$i$的子树的方案数，转移就是$dp[i]=\prod_{tox} (dp[tox]+1)$，注意一下相同的串，将相同的串合并一下。</p>
<p>排序和判相同都用$SA$，但要注意$SA$找$LCP$的时候要特判位置相同，若相同则为$n-l+1$，不判直接用$rnk$在$ST$表里找是错的。我的板子一直有这个问题然后我没发现，于是就$WA$在$72$了。。。</p>
<h3 id="J-Subsequence-Sum-Queries"><a href="#J-Subsequence-Sum-Queries" class="headerlink" title="J Subsequence Sum Queries"></a>J Subsequence Sum Queries</h3><p>分治退背包，算跨过$[mid,mid+1]$的背包，用$CDQ$分治优化合并过程即可。</p>
<p>其实这题算我坑了廷廷，我上来胡了个回滚莫队，然后$T$了。然后又让廷廷相信了$O(nlognm^2)$的线段树能过，结果又$T$了，这锅我背了。</p>
<h3 id="K-Consistent-Occurrences"><a href="#K-Consistent-Occurrences" class="headerlink" title="K Consistent Occurrences"></a>K Consistent Occurrences</h3><p>写个假复杂度就过了？建个$AC$自动机，然后每个结点记下深度和上一次的结束位置，然后把串扔上去匹配。我懒得用树剖$+$平衡树优化找$i&gt;=dep[x]+las[x]$和覆盖的过程了，直接暴力跳，结果也过了。</p>
<h3 id="L-Increasing-Costs"><a href="#L-Increasing-Costs" class="headerlink" title="L Increasing Costs"></a>L Increasing Costs</h3><p>跑出最短路然后建棵支配树就能确定必经边了。</p>
<h2 id="2015-2016-Petrozavodsk-Winter-Training-Camp-Moscow-SU-Trinity-Contest"><a href="#2015-2016-Petrozavodsk-Winter-Training-Camp-Moscow-SU-Trinity-Contest" class="headerlink" title="2015-2016 Petrozavodsk Winter Training Camp, Moscow SU Trinity Contest"></a>2015-2016 Petrozavodsk Winter Training Camp, Moscow SU Trinity Contest</h2><p>最崩的一把，难度倒序开题，佛了。我开了一道字符串，然后写了两个小时。廷廷一人签到，疯狂罚时，结果还没过。最后两题捏在手上，打不出去。。。下次要注意一下，别因为会写就上去写了，应该感觉一下码量的。</p>
<p>昨天我背全锅，今天我和廷廷分锅。</p>
<h3 id="A-ABBA"><a href="#A-ABBA" class="headerlink" title="A ABBA"></a>A ABBA</h3><p>高斯消元出矩阵的秩就好了，注意一下精度不要太优秀，要和出题人炸得一样。。。</p>
<h3 id="B-Black-Sabbath"><a href="#B-Black-Sabbath" class="headerlink" title="B Black Sabbath"></a>B Black Sabbath</h3><p>求出两圆之间的根轴，根据$Monge$定理，拿根轴做半平面交就对了。注意一下矩阵四个边也是半平面交。</p>
<h3 id="C-Mr-Credo"><a href="#C-Mr-Credo" class="headerlink" title="C Mr. Credo"></a>C Mr. Credo</h3><p>找出角度之间的最大夹缝，然后让这个夹缝扩大$1e9$倍就稳了，读对题是重点。然而廷廷写挂了。（</p>
<h3 id="D-Deep-Purple"><a href="#D-Deep-Purple" class="headerlink" title="D Deep Purple"></a>D Deep Purple</h3><p>建出$parents$树之后，询问操作就看成了$mxlen(lca(i,r))&gt;i−l$。有一种经典的做法是将$parents$树轻重链剖分之后，将询问拆在重链上，然后发现重链上的计算是要求$i−mxlen(x)&lt;l$且$i&lt;r$最大的$i$，$i$是其轻子树里面的一个点。这个东西，发现可以维护以$i$为下标的线段树，在线段树二分即可。然后轻重链切换的地方，发现重链上的都被统计过，所以只用考虑子树内的情况，这个只需对每个点开一棵线段树然后线段树合并即可。这时候复杂度虽然是$O(nlog^2n)$，但空间却是$O(nlogn)$，而且空间常数有点大，跑不过去（然而我开始写了这个，结果浪费一个小时）。</p>
<p>那有没有空间常数更小的做法呢？有。我们可以先将询问按$r$递减排序，然后扫过去，每次处理之前加进去的询问，看当前位置是否能被作为$i$，然后把已经处理完毕的询问给删掉，再加入当前询问。现在的问题还是在处理询问，发现其实可以对于每一条链打一个$l$的标记在最深的地方，处理询问就查一下$i$到根的最大$mxlen(x)+l$，然后删掉询问。加入询问就是沿着重链往上跳，放标记。具体实现上，查询最大值是线段树可以做的事情，然后你需要对于每个结点开个$set$记录这个结点还有哪些标记，查询的时候讨论一下标记的位置即可。</p>
<p>第二个做法比第一个真的好写很多啊。</p>
<h3 id="E-Elvis-Presley"><a href="#E-Elvis-Presley" class="headerlink" title="E Elvis Presley"></a>E Elvis Presley</h3><p>暴力往上跳，包揽所有子树即可。</p>
<h3 id="F-Frank-Sinatra"><a href="#F-Frank-Sinatra" class="headerlink" title="F Frank Sinatra"></a>F Frank Sinatra</h3><p>树上莫队裸题，套个$bitset$即可。注意一下这题$lca$处不用讨论，因为是点。。。（然后我抄错板子了</p>
<h3 id="G-Green-Day"><a href="#G-Green-Day" class="headerlink" title="G Green Day"></a>G Green Day</h3><p>首先显然是张完全图，所以$n=2k$。构造一下，对于$i=1,…,k$种颜色，连出$(i,i+1),…,(i,i+k)$，然后$(i+k,i+k+1),…,(i+k,i+k+k-1)$（把这$n$个点循环一下）就好了。</p>
<h3 id="H-Hans-Zimmer"><a href="#H-Hans-Zimmer" class="headerlink" title="H Hans Zimmer"></a>H Hans Zimmer</h3><p>推下式子。首先根据连续变量在$[0,1]$的期望分布，可以得出最小差值的期望分布，实际就是$\frac{1}{(i+1)^2}$。然后枚举横切多少次，就有最终式子$\sum_{i=0}^n \frac{\binom{n}{i}}{2^i2^{n-i}(i+1)^2(n-i+1)^2}$，这个东西直接算精度就没了。于是取个对数再$exp$一下。输出注意下，不知道为什么$printf$会出现问题，$cout$一下子就过了。（白白罚了$12$次</p>
<h3 id="I-Ivan-Dorn"><a href="#I-Ivan-Dorn" class="headerlink" title="I Ivan Dorn"></a>I Ivan Dorn</h3><p>明明是个$easy$，居然没开。</p>
<p>首先可以利用单调队列求出所有极长合法区间，然后借此可以算出每个点向左和向右能延伸的最长合法区间。每个询问区间，肯定会被最大值分裂成两个或三个区间，一部分的答案是最大值之间的长度，左边那一部分只用查询左边能向右延伸的最长，右边同理。由于它们都不能跨过最大值，所以这样显然是对的。发现这些操作都是线段树，就好了。</p>
<h3 id="J-Jimi-Hendrix"><a href="#J-Jimi-Hendrix" class="headerlink" title="J Jimi Hendrix"></a>J Jimi Hendrix</h3><p>别看到路径就上来点分（指某廷廷），冷静一下发现就是个幼儿园级别的$dfs$裸题。结果这题因为点分罚了$7$遍。（雾</p>
<h3 id="K-Korn"><a href="#K-Korn" class="headerlink" title="K Korn"></a>K Korn</h3><p>完全开错顺序，这题早知道先开了，水的一批。</p>
<p>首先有奇点肯定就没了，没有度数大于$2$的即形成了一个大环的显然都可以，只有一个度数大于$2$则只有这个点有机会，把它判掉就好了。两个点就把这两个点判了。大于等于三个点的，发现只有度数最大的点有机会，而且它必须是独一无二的，然后判掉也就好了。</p>
<h2 id="2013-2014-Petrozavodsk-Winter-Training-Camp-Moscow-SU-Trinity-Contest"><a href="#2013-2014-Petrozavodsk-Winter-Training-Camp-Moscow-SU-Trinity-Contest" class="headerlink" title="2013-2014 Petrozavodsk Winter Training Camp, Moscow SU Trinity Contest"></a>2013-2014 Petrozavodsk Winter Training Camp, Moscow SU Trinity Contest</h2><p>好难的一把，幸亏和廷廷一起在最后一分钟调出$C$完成反杀，中间其实有点崩了，廷廷调$E$三小时后说算法假了，差点凉了。</p>
<p>甚至怀疑这是几何专场。</p>
<h3 id="A-MEX-Query"><a href="#A-MEX-Query" class="headerlink" title="A MEX-Query"></a>A MEX-Query</h3><p>上来写个莫队就$T$了，然后廷廷说线段树就行了。</p>
<p>离线后，按$r$升序查询，可以发现每次的答案要么是当前没出现过的最小值$-1$，要么是$[1,l-1]$的最小值$-1$（如果现在已经没了），发现这些用线段树和堆维护就好了。比莫队不知道高明到哪里去了。</p>
<h3 id="B-Beer-Quadrilaterals"><a href="#B-Beer-Quadrilaterals" class="headerlink" title="B Beer Quadrilaterals"></a>B Beer Quadrilaterals</h3><p>如果暴力枚举所有角度就凉了，我们发现$B$和$D$可以对称地枚举，于是只要枚举$\angle BAC,\angle BCA,\angle ABD$即可，其他的关于$B$的角度就知道了（三角形内角和），同样的$D$也有这些角度组，发现只要$\angle ABD+\angle BAC$和$\angle DCA+\angle ADB$相等以及$BD$与$AC$的交点$M$满足以上条件就是合法的（即共线），于是存下这些角度组，交点利用长度维护，即$\frac{AM}{CM}$，这应该在$B$的角度组中和$D$的角度组中恰为倒数。但有几个精度问题，比如存长度和角度这里建议使用$sin$，同时因为有倒数操作，精度会炸，所以建议取对数，然后就过了。</p>
<h3 id="C-The-Palindrome-Extraction"><a href="#C-The-Palindrome-Extraction" class="headerlink" title="C The Palindrome Extraction"></a>C The Palindrome Extraction</h3><p>假装$|B|&lt;|D|$，那么$D=rev(B)+T$，$T$为回文串。考虑枚举$T$的回文中心，可证以该为回文中心的回文串越长越好，于是就是要找到最大的$i$满足$rev(s[r+1,i])$是$s[1,l-1]$的子串。记$t=rev(s)$，则$t[i,n-r]$是$s[1,l-1]$的子串。我们把询问给离线，每一次把$i$在$parent$树上所有祖先全都标记，表示$i$的所有后缀都合法了，那么从$1$到$i$相当于把$s[1,i]$的所有子串都给标记了。前面那个，我们把$[n-r]$这个询问丢到$[l-1]$这个位置，标记完之后，相当于查询$t[n-r]$的父亲中第一个合法的值，查到之后就可以更新答案了。发现上述操作利用在$parent$树上树剖$+$线段树即可，细节依旧很多。。。</p>
<h3 id="D-Short-Enough-Task"><a href="#D-Short-Enough-Task" class="headerlink" title="D Short Enough Task"></a>D Short Enough Task</h3><p>推下式子，考虑最终回文串对前面的贡献，发现只要求个公比为$k$的等比数列。记得特判公比为$1$。</p>
<h3 id="E-Another-Short-Problem"><a href="#E-Another-Short-Problem" class="headerlink" title="E Another Short Problem"></a>E Another Short Problem</h3><p><del>廷廷调了三小时发现自己假了。</del></p>
<p>其实没假，这道题就体现出了我们两个交流并不频繁。我想到了欧拉公式，廷廷会求期望面数，然后都没有说，就凉了。</p>
<p>由于没有四点共面，所以只要知道期望面数就知道期望边数了，通过欧拉公式就知道期望点数了。期望面数可以通过枚举三个点的面，假设这个面在最终凸包上，那么它左侧的面都不能加进去，于是算一下就好了，所以这题其实定位是签到啊。。。具体实现上注意一下$|V|=0$和$|V|=1$的情况。</p>
<h3 id="F-Just-Another-Sequence-Problem"><a href="#F-Just-Another-Sequence-Problem" class="headerlink" title="F Just Another Sequence Problem"></a>F Just Another Sequence Problem</h3><p>$dp[i][j]$表示当前到了$i$且以$i$为结尾$j$为开头的最大值。转移就是$dp[i][j]=dp[j-1][k]+(s[i]-s[j-1])\ast (s[j-1]-s[k-1])$，显然的斜率优化。由于$s$并不是递增的，所以每次还需要排序，总复杂度就是$O(n^2logn)$，写得挺复杂的。</p>
<h3 id="G-Total-LCS"><a href="#G-Total-LCS" class="headerlink" title="G Total LCS"></a>G Total LCS</h3><p>如果我们固定左端点，那么当$R$不断右移的过程中，答案有时会$+1$，如果$+1$我们就认为这个字符会出现在$LCS$的所有方案中。而且我们发现如果固定了右端点，那么使这个字符会出现在$LCS$所有方案中的左端点是一段区间</p>
<p>设$h[i][j]$表示考虑了$s[1,..,i]$，且$t$中的右端点固定为$j$时，当$L\in (h[i][j],j]$时，$t[j]$一定出现在$LCS(s[1,…,i],t[L,…,j])$的所有方案中</p>
<p>设$g[i][j]$表示考虑了$s[1,..,i]$，且$t$中的右端点固定为$j$时，当$L\in [1,g[i][j]]$时，$s[i]$一定出现在$LCS(s[1,…,i],t[L,…,j])$的所有方案中</p>
<p>边界条件为$h[0][i]=i,g[i][0]=0$。</p>
<p>考虑转移</p>
<p>如果$s[i]=t[j]$，</p>
<p>对于$h[i][j]$，考虑当$i$和左端点固定，右端点从$j−1$移动到$j$时，$LCS$增加了$1$，也就是不存在一种不使用$s[i]$的$LCS(s[1,..,i],t[1,..,j−1])$的方案。而如果不出现这样的情况，当且仅当$LCS(s[1,..,i],t[1,..,j−1])$的所有方案都用到了$s[i]$，所以有$h[i][j]=g[i][j−1]$。</p>
<p>对于$g[i][j]$，同理可得$g[i][j]=h[i−1][j]$。</p>
<p>如果$s[i]≠t[j]$，</p>
<p>对于$h[i][j]$，为了让$t[j]$一定进入$LCS$，此时$LCS(s[1,..,i],t[1,…,j])$的方案也是$LCS(s[1,..,i−1],t[1,…,j])$的方案，所以有$h[i][j]≥h[i−1][j]$，但是从$i−1$移动到$i$有可能会改变$LCS$的大小，所以$s[i]$一定不能出现在$LCS(s[1,…,i],t[1,…,j−1])$中，因此还需要$h[i][j]≥g[i][j−1]$，于是有$h[i][j]max(h[i−1][j],g[i][j−1])$。</p>
<p>对于$g[i][j]$，同理可得$g[i][j]=min(h[i−1][j],g[i][j−1])$。</p>
<p>$dp$求出所有$h,g$之后，我们固定左端点，并不断移动右端点，每次$h[n][R]&lt;L$时令$LCS$加一即可。</p>
<p>好牛逼的一题啊。</p>
<h3 id="H-color-silver-Cyclic-color-silver-String"><a href="#H-color-silver-Cyclic-color-silver-String" class="headerlink" title="H $\color{silver}{*Cyclic}$ $\color{silver}{String}$"></a>H $\color{silver}{*Cyclic}$ $\color{silver}{String}$</h3><p>好难写的贪心啊。</p>
<p>先将串表示成最小表示法，答案不会小于最小表示法。</p>
<p>如果答案是现在的前缀，那么分成$k$段后，后面$k-1$段都是答案的一个前缀。二分一个前缀表示答案，设$f[i]$为到$i$的时候能划分的区间数，显然这个划分区间数是一段连续区间，所以维护一个二元组$f[i]$表示最大和最小的划分区间数。转移用$kmp$的$next$跳最短和最长即可。这里复杂度是$O(n^2logn)$的。</p>
<p>如果答案不是现在的前缀，我们可以证明如果对于原来的环状字符串存在一种合法的划分方案。即一定存在一种划分方案是在当前的最小表示法串上。有了这个性质后，我们$O(n)$的枚举答案，然后我们从后面开始切这个字符串，按照能切就切的原则，希望尽可能切成最多的段。可以发现这个贪心是很显然的。然后我们检查切的段数是否大于等于$k$即可。这部分复杂度是$O(n^2\alpha)$。</p>
<p>综合上述，即可通过此题，但很难写，所以不写了。</p>
<h3 id="I-Circle-Clique"><a href="#I-Circle-Clique" class="headerlink" title="I Circle Clique"></a>I Circle Clique</h3><p>有点思路，但还是不会。</p>
<p>每个点向圆做两条切线，把切点间的弧标记一下。可以发现两个点合法当且仅当弧相交且不包含。于是题目转化成选出最多的弧满足相交不包含。可以发现弧$a$与弧$b$的关系等于$a$的补弧与弧$b$的关系，所以我们可以把经过某一定点的弧取补，这样问题就从环上转化到了数轴上。变成数轴上的线段相交问题后，按左端点排序，枚举第一个线段，取出所有这个线段有交的线段，将它们按顺序对右端点做个最长上升子序列即可。</p>
<h3 id="J-Dividing-Area"><a href="#J-Dividing-Area" class="headerlink" title="J Dividing Area"></a>J Dividing Area</h3><p>这道题的所有套路我都没想到，而且好多我都不会。</p>
<p>首先呢，要想到时间回溯。有了时间回溯，我们考虑找出所有的环，然后每次连边就变成断边，等于合并两个环，这些操作可以并查集维护。那么现在问题就是如何找环，廷廷姐说，平面图，可以把每条边看成有向边，然后逆时针排序后直接按顺序以后继找环，这样是对的。虽然我不会证，但感性理解一下觉得很有道理。</p>
<h3 id="K-Tree-Problem"><a href="#K-Tree-Problem" class="headerlink" title="K Tree Problem"></a>K Tree Problem</h3><p>孔爷曾经出过类似的，甚至毒瘤的孔爷加了换根子树操作。</p>
<p>树剖之后，发现询问和修改可以看成对指向父亲的边修改查询和指向儿子的边修改查询，指向父亲的是正常线段树树剖可以搞的，线段树上一个结点代表树上一个连续的$dfs$序区间的点指向父亲的边，每个结点记录区间内$0,1$出现次数和标记。查询和修改就是对$log$条重链和$log$条轻边修改。指向儿子的，考虑对每个点维护一个信息$to_{son}$表示这个点指向儿子的轻边被修改成什么颜色。修改的时候，所有被修改的重边被分成了$log$条重链，直接在上面那个线段树修改。而所有被修改的轻边不直接改，而是修改它们父亲的$to_{son}$，这里还需要一棵线段树。询问的时候，重边还是在上面那个线段树直接查，轻边则需要比较两棵线段树谁后修改，所以再在线段树上维护一个时间标记即可。</p>
<h2 id="2018-2019-ACM-ICPC-Asia-East-Continent-Finals"><a href="#2018-2019-ACM-ICPC-Asia-East-Continent-Finals" class="headerlink" title="2018-2019 ACM-ICPC, Asia East Continent Finals"></a>2018-2019 ACM-ICPC, Asia East Continent Finals</h2><p>六题垫底，$C$期待我的假算法能过，可还是过不了。</p>
<h3 id="A-Exotic-…-Ancient-City"><a href="#A-Exotic-…-Ancient-City" class="headerlink" title="A Exotic … Ancient City"></a>A Exotic … Ancient City</h3><p>好神的一题啊。</p>
<p>你考虑克鲁斯卡尔的过程，每次将边权从小到大一圈一圈往里加，然后再一列一列往里加。边权往里加的时候，你把相邻边权的答案差分一下，那么这一块就没问题了。一列一列往里加的时候，第一列和第二列是随便用并查集维护一下就好了，第$i$列与第$i+1$列可以由$i-1$列和$i$列的情况递推过来，这里就是个分类讨论，这样就可以算出每一列与上一列所加入的边数的差，这对于当前边数而言是个二阶差分，反过来做个二阶前缀和就好了。</p>
<h3 id="B-Mysterious-…-Host"><a href="#B-Mysterious-…-Host" class="headerlink" title="B Mysterious … Host"></a>B Mysterious … Host</h3><p>这题就是要求选出最多的排列，使两两不等价。由析合树的定义，我们可以知道两个排列等价当且仅当它们的析合树同构。那这题就变成要求多少个叶节点个数为$n$的析合树了。$f[i]$表示叶子数为$i$的析合树，转移就是讨论根节点是合点还是析点，于是我们再定义$dp[i][j]$表示$i$个节点分成$j$个析合树的方案数，若根节点是合点，则它的子树个数必然$\geq 2$，于是这一部分的答案就是$\sum_{j\geq 2} dp[i][j]$，若根节点是析点，子树个数必然$\geq 4$，这一部分的答案就是$\sum_{j\geq 4} dp[i][j]$，于是得到转移，$f[i]=\sum_{j\geq 2} dp[i][j]+\sum_{j\geq 4} dp[i][j]=dp[i][2]+dp[i][3]+2\sum_{j\geq 4} dp[i][j]$，发现这些转移都能处理前缀和做。</p>
<h3 id="C-Heretical-…-Mobius"><a href="#C-Heretical-…-Mobius" class="headerlink" title="C Heretical … Möbius"></a>C Heretical … Möbius</h3><p><del>考场上写个假东西没过。</del></p>
<p>其实写的差不多对了，只是我觉得会$T$，然后乱搞了一下。每$4,9,25,49$个肯定会有$0$，我们借此暴力枚举第一个位置的数是几，然后判一下是否合法，相信自己，虎他一波，就不会$T$了。（</p>
<h3 id="D-Deja-vu-of-…-Go-Players"><a href="#D-Deja-vu-of-…-Go-Players" class="headerlink" title="D Deja vu of … Go Players"></a>D Deja vu of … Go Players</h3><p>输出$n&gt;m$就好了。</p>
<h3 id="E-Immortal-…-Universe"><a href="#E-Immortal-…-Universe" class="headerlink" title="E Immortal … Universe"></a>E Immortal … Universe</h3><p>好强的一题。</p>
<p>首先考虑会输的充要条件：存在一组两个序列的前缀满足和为$0$，还没取完且没法继续取。（即下一个都是$-1$或已经结尾了）</p>
<p>必要性是显然的，因为根据题目输的条件就是形如这样的。</p>
<p>充分性考虑构造方案，每次无论如何都尽量取$+1$且不超过两个前缀的位置。如果无法取已经输了直接成立，否则取到相应的位置也就成立了。</p>
<p>考虑上面得到的条件的等价条件：存在一组两个序列的前缀和不大于$0$，还没取完且无法继续取。</p>
<p>左推右显然。</p>
<p>右推左考虑把右边的条件改为和小于$0$。注意到前缀和函数是连续的，且从$0$变化到负数一定会存在$-1$，所以一定可以得到左边的情况。</p>
<p>计数考虑对$S$和$T$分别计数：下一个是$-1$和当前前缀和最小值$x$的数量。</p>
<p>考虑这么两个过程：</p>
<p>$(1)$从前往后扫描序列，记录当前的前缀和$sum$和当前的前缀和最小值$min$，每次$sum+=A[i]$，需要的时候$ckmin(min,sum)$。</p>
<p>$(2)$从后往前扫描序列，只需要记录当前的前缀和最小值$min$，每次$min+=A[i]$，需要的时候$ckmin(min,A[i])$。</p>
<p>可以发现$(1)$过程需要记录$2$个量，而$(2)$过程只要记录$1$个量，所以可以考虑$dp(2)$过程进行计数。</p>
<p>统计答案的时候，初始$ans=$两个序列的$x$之和不大于$0$的方案数。</p>
<p>需要注意这样会多统计一些取完了的情况，具体而言是两个位置只能是已经结尾的位置的情况。</p>
<p>这时候显然两个序列的$x$之和为$0$，因为若小于$0$可以把任意一个小于$0$的位置往前移到一个合法的位置。</p>
<p>所以对$S$和$T$再做一次$dp$，记录$x$唯一出现在已经结尾的位置的方案数。这时候统计两个序列的$x$之和$=0$的方案数，扣掉即可。</p>
<h3 id="F-Interstellar-…-Fantasy"><a href="#F-Interstellar-…-Fantasy" class="headerlink" title="F Interstellar … Fantasy"></a>F Interstellar … Fantasy</h3><p>若线段不交则就是线段长，否则做切线。判交的话，若交球心到线段的距离小于$r$且两个角都是锐角，这些东西都是可以用叉积和点积搞出来的，没了。</p>
<h3 id="G-Omnipotent-…-Garland"><a href="#G-Omnipotent-…-Garland" class="headerlink" title="G Omnipotent … Garland"></a>G Omnipotent … Garland</h3><p>分类讨论下，<del>没了。</del>难写的一批，哭了。</p>
<h3 id="H-color-silver-Saintly…Coins"><a href="#H-color-silver-Saintly…Coins" class="headerlink" title="H $\color{silver}{*Saintly…Coins}$"></a>H $\color{silver}{*Saintly…Coins}$</h3><p>大大大模拟！</p>
<h3 id="I-Misunderstood-…-Missing"><a href="#I-Misunderstood-…-Missing" class="headerlink" title="I Misunderstood … Missing"></a>I Misunderstood … Missing</h3><p>无法直接记录$A$和$D$，考虑直接将贡献算到最终答案去。发现给$A$升次级等价于升的级乘上剩余攻击次数，给$D$升次级等价于升的级乘上以后攻击的时间总和（比如你以后$i$次才攻击，对这一次的攻击的贡献就是升的级乘上$i$），于是$dp[i][j][k]$表示当前到了第$i$个，以后还要攻击$j$次，以后的攻击时间为$k$。状态数大概要除以$8$，所以跑不满$O(n^4)$，随便就过了。</p>
<h3 id="J-Philosophical-…-Balance"><a href="#J-Philosophical-…-Balance" class="headerlink" title="J Philosophical … Balance"></a>J Philosophical … Balance</h3><p><del>不知道廷廷写了啥，反正过了。</del></p>
<p>首先把原串倒过来，那么问题就是给每个前缀一个$p_i$，一个前缀的价值为它和其它所有前缀的$lcs$乘上那个前缀对应的$p_i$，求一种方案使得价值最小的前缀价值最大。</p>
<p>建出$parent$树之后，问题可以转化为对于每个前缀代表的点，令它到根节点路径上每个节点的权值加上$p_i$，一个前缀的价值就是它代表的节点到根节点路径上的每一个节点的权值$\ast$长度之和。</p>
<p>我们发现对于两个前缀，如果$u$在$parent$树上是$v$的父亲，那么$v$显然是没有用的（因为$u$的价值一定比$v$小），这样删去没用的节点，所有前缀的节点就都是叶子了。</p>
<p>然后问题可以转化成一棵树，每个节点儿子的权值之和等于它的权值，根节点权值为$1$，叶子节点的代价为它到根节点的路径上所有节点权值之和，最大化最小的叶子代价。</p>
<p>先考虑一种特殊情况，一个菊花图，根节点权值为$1$，每个儿子对应长度为$a_i$，分过去的对应权值为$p_i$，那么要令$min(a_ip_i)$最大，根据数学知识肯定是所有取到相等的时候最大，那么令$k=a_ip_i$，有$\sum \frac{k}{a_i}=1$，解出$k$就可以得到$p_i$了，然后如果根节点传过来的值不是$1$而是$v$，下面每个节点的收益是$\frac{k}{a_i}×a_i×v$，这样我们就可以把整个菊花缩成一条长为$k$的链，继续往上$dp$就行了。</p>
<h3 id="K-Desperate-…-Fire-Survive"><a href="#K-Desperate-…-Fire-Survive" class="headerlink" title="K Desperate … Fire Survive"></a>K Desperate … Fire Survive</h3><p>大胆上，不假思索，就能过。</p>
<p>$dp[i][j]$表示左端点为$i$，要合成出$j$的最小右端点。转移来自两部分，一部分是本来就有了$j$，即$nxt_{i,j}$表示当前在$i$下一个$j$的位置，另一部分是$dp[dp[i][j-1]+1][j-1]$，即用两个$j-1$合成$j$。可以发现的是，后面的转移是类倍增的东西，前面是连续段即区间覆盖的东西，这些都可以证明在$O(nlogn)$的数量级。所以把询问离线一下，$k$升序往里算，可以证明这复杂度会是$O(nlogn)$。</p>
<h3 id="L-Desperate-…-Fire-Survive"><a href="#L-Desperate-…-Fire-Survive" class="headerlink" title="L Desperate … Fire Survive"></a>L Desperate … Fire Survive</h3><p>最短路只会是$1,2,3$，讨论下就好了。</p>
<h2 id="The-2019-China-Collegiate-Programming-Contest-Harbin-Site"><a href="#The-2019-China-Collegiate-Programming-Contest-Harbin-Site" class="headerlink" title="The 2019 China Collegiate Programming Contest Harbin Site"></a>The 2019 China Collegiate Programming Contest Harbin Site</h2><p>这场中期就在乱打，$AL$两个人调了一年，幸亏最后绝杀$B$。</p>
<h3 id="A-Artful-Paintings"><a href="#A-Artful-Paintings" class="headerlink" title="A Artful Paintings"></a>A Artful Paintings</h3><p>二分答案后，记$sum_i$表示前$i$个格子的染色数，用这个去做差分约束即可。有点卡常，而且我还手残地写了个$n+1$。</p>
<h3 id="B-Binary-Numbers"><a href="#B-Binary-Numbers" class="headerlink" title="B Binary Numbers"></a>B Binary Numbers</h3><p>$F_{m-1}(a,b)$函数理解一下就是$m-(a$^$b)$的第一个$1$的位置。同时你又能发现一个合法的$A_i$一定是一个区间，且这个区间是单调的。所以拿这个单调性转移一下就好了。</p>
<h3 id="C-Competition-in-Swiss-system"><a href="#C-Competition-in-Swiss-system" class="headerlink" title="C Competition in Swiss-system"></a>C Competition in Swiss-system</h3><p>实现个分数类，模拟即可。</p>
<h3 id="D-Driverless-Car"><a href="#D-Driverless-Car" class="headerlink" title="D Driverless Car"></a>D Driverless Car</h3><p>首先点到线段的距离有三类：到左端点的距离，到直线的距离，到右端点的距离。而你由线段两个端点做垂线后，就可以把平面上所有点划分出这三类。于是整个平面就被两条线段的垂线划分成好多块区域。每一块区域的性质都是一样的。接下来再讨论每一种怎么求。第一种是点到两个端点的，那就是两个端点连线的中垂线。第二种是点到两条直线的，那就是直线交点处的角平分线。第三种是一个端点一个直线的，那就是抛物线。三个分别求一下长度即可，注意一下一堆细节。</p>
<h3 id="E-Exchanging-Gifts"><a href="#E-Exchanging-Gifts" class="headerlink" title="E Exchanging Gifts"></a>E Exchanging Gifts</h3><p>这个匹配是随便匹配的，所以只需要维护出现次数最大的出现次数和数的个数了，数的个数开个桶随便维护，出现次数最大的数用摩尔投票法即可。不过廷廷上去写了个$map$被卡常，然后卡卡常就过了。</p>
<h3 id="F-Fixing-Banners"><a href="#F-Fixing-Banners" class="headerlink" title="F Fixing Banners"></a>F Fixing Banners</h3><p>暴搜出所有状态，判一下就好了。</p>
<h3 id="G-Game-Store"><a href="#G-Game-Store" class="headerlink" title="G Game Store"></a>G Game Store</h3><p>先考虑$2-nim$的结论，即二进制下每一位之和都是$3$的倍数先手必败。因为每种石子堆都有两个，第二个人就可以使一种石子堆留下$0,1,2$，这对应模$3$的系数。所以第二个人的操作就等于删去若干个向量，如果第一个人想赢，必须满足这些向量在模$3$意义下线性无关。于是维护个权值和最大的线性无关向量组即可，自己$yy$一个奇怪的线性基即可。</p>
<h3 id="H-Highway-Buses"><a href="#H-Highway-Buses" class="headerlink" title="H Highway Buses"></a>H Highway Buses</h3><p>考虑到边数很少，于是搞出一棵树，树边和非树边分类讨论下。</p>
<p>求解方式类似$bzoj4699$，利用堆与$dij$的性质就行了。现在的问题在于判断两个点之间的距离，树上可以利用树分治，分成$O(logn)$段后暴力求解，非树边只有$50$条，$100$个端点，暴力做个$floyed$即可，但是好难写啊，吐了。</p>
<h3 id="I-Interesting-Permutation"><a href="#I-Interesting-Permutation" class="headerlink" title="I Interesting Permutation"></a>I Interesting Permutation</h3><p>先判掉无解，记当前$ans$为答案，$x$为当前可选数的个数，如果$x&lt;0$也无解。$h$不变的话，就是在$x$个数选出了一个，即$ans=ans\ast x,x—$。$h$变大的话，就是一上一下，所以$ans=ans+ans,x=x+\Delta h-1$，就做完了。</p>
<h3 id="J-Justifying-the-Conjecture"><a href="#J-Justifying-the-Conjecture" class="headerlink" title="J Justifying the Conjecture"></a>J Justifying the Conjecture</h3><p>奇数用$3,n-3$，偶数用$2,n-2$，判下无解即可。</p>
<h3 id="K-Keeping-Rabbits"><a href="#K-Keeping-Rabbits" class="headerlink" title="K Keeping Rabbits"></a>K Keeping Rabbits</h3><p>因为每次的总和是不变的，所以直接算就完事了。</p>
<h3 id="L-LRU-Algorithm"><a href="#L-LRU-Algorithm" class="headerlink" title="L LRU Algorithm"></a>L LRU Algorithm</h3><p>按着题意做下，按着$a$的每个位置算一遍$hash$，有出现就做完了。</p>
<h2 id="2018-China-Collegiate-Programming-Contest-Final"><a href="#2018-China-Collegiate-Programming-Contest-Final" class="headerlink" title="2018 China Collegiate Programming Contest Final"></a>2018 China Collegiate Programming Contest Final</h2><p>$H$两个人分别写了个东西都$WA$了，然后我整合一下就过了，不过后来廷廷自己改一改也过了。</p>
<h3 id="A-Mischievous-Problem-Setter"><a href="#A-Mischievous-Problem-Setter" class="headerlink" title="A Mischievous Problem Setter"></a>A Mischievous Problem Setter</h3><p>签到，排个序好了。</p>
<h3 id="B-Balance-of-the-Force"><a href="#B-Balance-of-the-Force" class="headerlink" title="B Balance of the Force"></a>B Balance of the Force</h3><p>肯定是堆二分图连通块，然后把最大和最小放进堆里，打个记号枚举一下就没了。</p>
<h3 id="C-GCD-Land"><a href="#C-GCD-Land" class="headerlink" title="C GCD Land"></a>C GCD Land</h3><p>发现$zzt$出过，行吧。<a target="_blank" rel="noopener" href="https://pan.baidu.com/s/10yhlawFXVpRDIKgK8cUNZQ">https://pan.baidu.com/s/10yhlawFXVpRDIKgK8cUNZQ</a> 提取码: fpu4</p>
<h3 id="D-Cube"><a href="#D-Cube" class="headerlink" title="D Cube"></a>D Cube</h3><p>上面链接里有。</p>
<h3 id="E-Mr-Panda-and-Cactus"><a href="#E-Mr-Panda-and-Cactus" class="headerlink" title="E Mr. Panda and Cactus"></a>E Mr. Panda and Cactus</h3><p>廷廷赛高！</p>
<p>转化下，变成删去若干条边，使得剩下至少$k$个连通块。删掉一条树边显然连通块数$+1$，环上至少要删掉一条条之后才是每次$+1$，即删去环上$x$条边多$x-1$个连通块。对于环上和树上，我们都按边权排序，树上删$x$条边增加$x$个，环上删$x$条增加$x-1$个，于是拿这个做背包就好了。</p>
<h3 id="F-color-silver-Cones"><a href="#F-color-silver-Cones" class="headerlink" title="F $\color{silver}{*Cones}$"></a>F $\color{silver}{*Cones}$</h3><p>廷廷说对$z$这一维辛普森拟合，然后其他每一维就是个圆的面积并，格林公式即可。</p>
<h3 id="G-Pastoral-Life-in-Stardew-Valley"><a href="#G-Pastoral-Life-in-Stardew-Valley" class="headerlink" title="G Pastoral Life in Stardew Valley"></a>G Pastoral Life in Stardew Valley</h3><p>手推下式子，发现$O(n)$预处理下就没了。</p>
<h3 id="H-Game-on-the-Tree"><a href="#H-Game-on-the-Tree" class="headerlink" title="H Game on the Tree"></a>H Game on the Tree</h3><p>$dis(A,x)\leq dis(B,x)$肯定$A$赢了，否则判一下$B$能否阻止$A$到环上，能否在$A$走到之前堵上$A$的路，能否伺机待发等等，判完就过了。</p>
<h3 id="I-Cockroaches"><a href="#I-Cockroaches" class="headerlink" title="I Cockroaches"></a>I Cockroaches</h3><p>因为点没有重复，所以把行最多和列最多拿出来判一下。无解就减个$1$算一下，没了。</p>
<h3 id="J-Mr-Panda-and-Sequence-Puzzle"><a href="#J-Mr-Panda-and-Sequence-Puzzle" class="headerlink" title="J Mr. Panda and Sequence Puzzle"></a>J Mr. Panda and Sequence Puzzle</h3><p>直接上去贪心就完事了，$hash$判一下即可。</p>
<h3 id="K-Mr-Panda-and-Kakin"><a href="#K-Mr-Panda-and-Kakin" class="headerlink" title="K Mr. Panda and Kakin"></a>K Mr. Panda and Kakin</h3><p>$RSA$裸题，不提。</p>
<h3 id="L-Ultra-Weak-Goldbach’s-Conjecture"><a href="#L-Ultra-Weak-Goldbach’s-Conjecture" class="headerlink" title="L Ultra Weak Goldbach’s Conjecture"></a>L Ultra Weak Goldbach’s Conjecture</h3><p>先假装哥德巴赫猜想对的，然后奇数就看成$2+2+2+3+A+B$，偶数看成$2+2+2+2+A+B$，暴力枚举质数即可。</p>
<h2 id="2018-2019-Winter-Petrozavodsk-Camp-Oleksandr-Kulkov-Contest-1"><a href="#2018-2019-Winter-Petrozavodsk-Camp-Oleksandr-Kulkov-Contest-1" class="headerlink" title="2018-2019 Winter Petrozavodsk Camp, Oleksandr Kulkov Contest 1"></a>2018-2019 Winter Petrozavodsk Camp, Oleksandr Kulkov Contest 1</h2><p>签完两道，开始写$I$。结果发现答案会炸$long long$，开了$ull$发现会变成负数，手写个带负数的$ull$结果发现前面就死了，前前后后$2$个小时，暴毙了。</p>
<h3 id="A-Tritwise-Mex"><a href="#A-Tritwise-Mex" class="headerlink" title="A Tritwise Mex"></a>A Tritwise Mex</h3><p><del>写了，$WA 11$了。</del></p>
<p>开个$long long$就过了。</p>
<p>考虑类似$FWT$那样，用$c$凑出$a$和$b$。</p>
<p>$c_0=(a_1+a_2)(b_1+b_2)$。</p>
<p>$c_0+c_1+c_2=(a_0+a_1+a_2)(b_0+b_1+b_2)$。</p>
<p>$c_3=a_2b_2$。</p>
<p>$c_1+c_3=(a_0+a_2)(b_0+b_2)$。</p>
<p>所以做个四进制$FWT$即可。</p>
<h3 id="B-Associativity-Degree"><a href="#B-Associativity-Degree" class="headerlink" title="B Associativity Degree"></a>B Associativity Degree</h3><p>待补。</p>
<h3 id="C-Medium-Hadron-Collider"><a href="#C-Medium-Hadron-Collider" class="headerlink" title="C Medium Hadron Collider"></a>C Medium Hadron Collider</h3><p>待补。</p>
<h3 id="D-Basis-Change"><a href="#D-Basis-Change" class="headerlink" title="D Basis Change"></a>D Basis Change</h3><p>用矩阵推一推就来了。</p>
<p><script type="math/tex">A=\begin{bmatrix} 0 & 1 & 0 & 0 & ... & 0 \\ 0 & 0 & 1 & 0 & ... & 0 \\ ... & ... & ... & ... & ... & ... \\ 0 & 0 & 0 & 0 & ... & 1 \\ a_0 & a_1 & a_2 & a_3 & ... & a_{k-1} \end{bmatrix}</script>。</p>
<p><script type="math/tex">F_{n-k}=\begin{bmatrix} F_{n-k} \\ ... \\ F_{n-2} \\ F_{n-1} \end{bmatrix}</script>。</p>
<p>那么推导一下，就有$A^nF_0=(\sum_{i=1}^k c_iA^{n-b_i})F_0$。</p>
<p>有$A^n=(\sum_{i=1}^k c_iA^{b_k-b_i})$。</p>
<p>再搞一下，$C(x)=x^k-\sum_{i=0}^{k-1} a_ix^i$。</p>
<p>于是$A^n=\begin{bmatrix} x^n mod C(x) \ x^{n+1} mod C(x) \ … \ x^{n+k-1} mod C(x) \end{bmatrix}$。</p>
<p>所以就有了$x^{b_k}=\sum_{i=1}^k c_i x^{b_k-b_i} mod C(x)$。</p>
<p>$O(k^3log)$递推一下系数，再$O(k^3)$消个元好了，有点卡常，稍微卡一下即可。</p>
<h3 id="E-Scored-Nim"><a href="#E-Scored-Nim" class="headerlink" title="E Scored Nim"></a>E Scored Nim</h3><p>总数除以$2$上取整，廷廷没写上取整$WA$了一发。</p>
<h3 id="F-Milliarium-Aureum"><a href="#F-Milliarium-Aureum" class="headerlink" title="F Milliarium Aureum"></a>F Milliarium Aureum</h3><p>边权从大往小，合并两个连通块的时候，不合法当且仅当这条边是树边但两个连通块在原图已经连接和这条边是非树边但两个连通块在树上没有连边，标记下两个连通块即可。</p>
<h3 id="G-Permutant"><a href="#G-Permutant" class="headerlink" title="G Permutant"></a>G Permutant</h3><p>待补。</p>
<h3 id="H-Game-Of-Chance"><a href="#H-Game-Of-Chance" class="headerlink" title="H Game Of Chance"></a>H Game Of Chance</h3><p>假设答案为$p$，那么有$p=\frac{1}{m}\sum_{i=1}^m max(i-p,p-i)$，证明较为简单。然后二分整数部分，算实数部分，或直接在$SBT$上二分也行。</p>
<h3 id="I-Incomparable-Pairs"><a href="#I-Incomparable-Pairs" class="headerlink" title="I Incomparable Pairs"></a>I Incomparable Pairs</h3><p>先转成求子串的子串的对数。建出$SAM$后，对于每个结点上的串而言，它们的子串就在$[[p_l,p_r],i]$中，即$\sum_{j=p_l}^{p_r} cnt[j][i]$（$cnt$表示区间本质不同子串），所以需要求个区间本质不同子串，这个是经典问题，我博客里有讲过。<a href="https://foreverlasting1202.github.io/2018/12/01/%E5%90%8E%E7%BC%80%E8%87%AA%E5%8A%A8%E6%9C%BA%E6%80%BB%E7%BB%93/">https://foreverlasting1202.github.io/2018/12/01/%E5%90%8E%E7%BC%80%E8%87%AA%E5%8A%A8%E6%9C%BA%E6%80%BB%E7%BB%93/</a></p>
<p>然后这题搞事，答案不是$ll$级别，要加$ull$，而且中途会减到负数，要自己实现个带负数的$ull$，同时算本质不同子串的平方时要注意，要爆$ull$，但本质不同子串的平方除以$2$就不会了，所以判下奇偶即可。</p>
<h3 id="J-The-Zong-of-the-Zee"><a href="#J-The-Zong-of-the-Zee" class="headerlink" title="J The Zong of the Zee"></a>J The Zong of the Zee</h3><p>注意到每一行只有一个问号，所以如果一个问号确定了，那所有问号就确定了。</p>
<p>先把可以确定的问号确定了，这里对每行实现个桶即可以，同时可以判掉无解。剩下来的，我们可以枚举一个问号，然后每一列考虑，发现只要前$n-1$行和后$n-1$行匹配，用$hash$维护下即可。</p>
<h3 id="K-Expected-Value"><a href="#K-Expected-Value" class="headerlink" title="K Expected Value"></a>K Expected Value</h3><p>推下式子，答案就是$a_1-a_2$了。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">foreverlasting</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="http://foreverlasting1202.github.io/2019/11/01/%E5%92%8C%E5%BB%B7%E5%BB%B7%E7%9A%84vp%E7%94%9F%E6%B4%BB/">http://foreverlasting1202.github.io/2019/11/01/和廷廷的vp生活/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/OI/">OI</a></div><div class="post_share"><div class="social-share" data-image="https://pic.imgdb.cn/item/61fa049e2ab3f51d91b7852f.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2020/02/22/%E4%B8%80%E7%B1%BB%E7%BB%84%E5%90%88%E6%81%92%E7%AD%89%E5%BC%8F/"><img class="prev-cover" src="https://s2.loli.net/2022/02/01/2WZRAST8qgLz6Ey.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">一类恒等式的应用（诈尸了诈尸了）</div></div></a></div><div class="next-post pull-right"><a href="/2019/10/14/%E7%BE%8E%E5%BE%B7%E7%9A%84%E8%AE%B2%E5%9D%9B/"><img class="next-cover" src="https://pic.imgdb.cn/item/61fa04662ab3f51d91b75d86.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">【洛谷5592】美德的讲坛</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><div><a href="/2022/02/28/bijectivepr/" title="A few solutions of bijective proof problems"><img class="cover" src="https://pic.imgdb.cn/item/61fa03442ab3f51d91b66bcd.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-02-28</div><div class="title">A few solutions of bijective proof problems</div></div></a></div><div><a href="/2022/02/05/loj%E9%9A%8F%E6%9C%BA%E5%81%9A%E9%A2%98/" title="loj 随机做题"><img class="cover" src="https://pic.imgdb.cn/item/61fa2df32ab3f51d91dd72fd.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-02-05</div><div class="title">loj 随机做题</div></div></a></div><div><a href="/2021/10/18/%E5%81%9A%E9%A2%98%E8%AE%B0%E5%BD%95/" title="做题记录"><img class="cover" src="https://pic.imgdb.cn/item/61fa03cf2ab3f51d91b6df0b.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-10-18</div><div class="title">做题记录</div></div></a></div><div><a href="/2021/08/10/%E5%8F%A3%E8%83%A1%E8%AE%B0%E5%BD%95/" title="口胡记录"><img class="cover" src="https://s2.loli.net/2022/02/01/Wz7gP12JrlYMpKB.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-08-10</div><div class="title">口胡记录</div></div></a></div><div><a href="/2021/07/06/%E8%AE%AD%E7%BB%83%E5%AE%9E%E5%BD%95/" title="训练实录"><img class="cover" src="https://pic.imgdb.cn/item/61fa03e42ab3f51d91b6eff4.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-07-06</div><div class="title">训练实录</div></div></a></div><div><a href="/2021/06/13/%E5%A4%8D%E5%81%A5%E8%AE%AD%E7%BB%83/" title="复 健 训 练"><img class="cover" src="https://pic.imgdb.cn/item/61fa032b2ab3f51d91b65997.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-06-13</div><div class="title">复 健 训 练</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> Comment</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/cccute.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">foreverlasting</div><div class="author-info__description">呜呜呜。</div></div><div class="card-info-data is-center"><div class="card-info-data-item"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">144</div></a></div><div class="card-info-data-item"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">4</div></a></div><div class="card-info-data-item"><a href="/categories/"><div class="headline">Categories</div><div class="length-num">40</div></a></div></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/foreverlasting1202" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="/573902690@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>Announcement</span></div><div class="announcement_content">现在装了个大概，还有 tag、link 之类的东西没整好，同时文章部分预览也没完成，以后慢慢整吧。</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#2015-2016-Petrozavodsk-Winter-Training-Camp-Makoto-rng-58-Soejima-%D0%A1ontest-4"><span class="toc-number">1.</span> <span class="toc-text">2015-2016 Petrozavodsk Winter Training Camp, Makoto rng_58 Soejima Сontest 4</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#A-2016"><span class="toc-number">1.1.</span> <span class="toc-text">A 2016</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#B-Airports"><span class="toc-number">1.2.</span> <span class="toc-text">B Airports</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#C-Jump"><span class="toc-number">1.3.</span> <span class="toc-text">C Jump</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#D-Merge"><span class="toc-number">1.4.</span> <span class="toc-text">D Merge</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#E-Mirror-Rice-Cake"><span class="toc-number">1.5.</span> <span class="toc-text">E Mirror Rice Cake</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#F-Number-Cards"><span class="toc-number">1.6.</span> <span class="toc-text">F Number Cards</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#G-Paint"><span class="toc-number">1.7.</span> <span class="toc-text">G Paint</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#H-Random-Walk"><span class="toc-number">1.8.</span> <span class="toc-text">H Random Walk</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#I-Robots"><span class="toc-number">1.9.</span> <span class="toc-text">I Robots</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#J-Ropes"><span class="toc-number">1.10.</span> <span class="toc-text">J Ropes</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#K-Stains"><span class="toc-number">1.11.</span> <span class="toc-text">K Stains</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#L-String-Modification"><span class="toc-number">1.12.</span> <span class="toc-text">L String Modification</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#M-Team-Competition"><span class="toc-number">1.13.</span> <span class="toc-text">M Team Competition</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2016-North-American-Invitational-Programming-Contest"><span class="toc-number">2.</span> <span class="toc-text">2016 North American Invitational Programming Contest</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#A-color-silver-Fancy-color-silver-Antiques"><span class="toc-number">2.1.</span> <span class="toc-text">A $\color{silver}{*Fancy}$ $\color{silver}{Antiques}$</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#B-Alternative-Bracket-Notation"><span class="toc-number">2.2.</span> <span class="toc-text">B Alternative Bracket Notation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#C-Greetings"><span class="toc-number">2.3.</span> <span class="toc-text">C Greetings!</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#D-Programming-Team"><span class="toc-number">2.4.</span> <span class="toc-text">D Programming Team</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#E-K-Inversions"><span class="toc-number">2.5.</span> <span class="toc-text">E K-Inversions</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#F-Mountain-Scenes"><span class="toc-number">2.6.</span> <span class="toc-text">F Mountain Scenes</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#G-Symmetry"><span class="toc-number">2.7.</span> <span class="toc-text">G Symmetry</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#H-Jewel-Thief"><span class="toc-number">2.8.</span> <span class="toc-text">H Jewel Thief</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#I-Tourists"><span class="toc-number">2.9.</span> <span class="toc-text">I Tourists</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#J-Whiteboard"><span class="toc-number">2.10.</span> <span class="toc-text">J Whiteboard</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#K-YATP"><span class="toc-number">2.11.</span> <span class="toc-text">K YATP</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2019-Petrozavodsk-Winter-Camp-Yandex-Cup"><span class="toc-number">3.</span> <span class="toc-text">2019 Petrozavodsk Winter Camp, Yandex Cup</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#A-Takeover"><span class="toc-number">3.1.</span> <span class="toc-text">A Takeover</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#B-Unfair-Card-Deck"><span class="toc-number">3.2.</span> <span class="toc-text">B Unfair Card Deck</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#C-Diverse-Singing"><span class="toc-number">3.3.</span> <span class="toc-text">C Diverse Singing</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#D-Pick-Your-Own-Nim"><span class="toc-number">3.4.</span> <span class="toc-text">D Pick Your Own Nim</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#E-Permutasino"><span class="toc-number">3.5.</span> <span class="toc-text">E Permutasino</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#F-color-silver-Planar-Max-Cut"><span class="toc-number">3.6.</span> <span class="toc-text">F $\color{silver}{*Planar Max Cut}$</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#G-Battle-Royale"><span class="toc-number">3.7.</span> <span class="toc-text">G Battle Royale</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#H-Jeopardy"><span class="toc-number">3.8.</span> <span class="toc-text">H Jeopardy</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#I-Slippers"><span class="toc-number">3.9.</span> <span class="toc-text">I Slippers</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#J-The-Good-the-Bad-and-the-Ugly"><span class="toc-number">3.10.</span> <span class="toc-text">J The Good, the Bad and the Ugly</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2017-2018-Petrozavodsk-Winter-Training-Camp-Saratov-SU-Contest"><span class="toc-number">4.</span> <span class="toc-text">2017-2018 Petrozavodsk Winter Training Camp, Saratov SU Contest</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#A-Three-Arrays"><span class="toc-number">4.1.</span> <span class="toc-text">A Three Arrays</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#B-color-silver-Expected-color-silver-Shopping"><span class="toc-number">4.2.</span> <span class="toc-text">B $\color{silver}{*Expected}$ $\color{silver}{Shopping}$</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#C-Cover-the-Paths"><span class="toc-number">4.3.</span> <span class="toc-text">C Cover the Paths</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#D-Elevator"><span class="toc-number">4.4.</span> <span class="toc-text">D Elevator</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#E-Code-Cola-Plants"><span class="toc-number">4.5.</span> <span class="toc-text">E Code-Cola Plants</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#F-GCD"><span class="toc-number">4.6.</span> <span class="toc-text">F GCD</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#G-Berland-Post"><span class="toc-number">4.7.</span> <span class="toc-text">G Berland Post</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#H-Compressed-Spanning-Subtrees"><span class="toc-number">4.8.</span> <span class="toc-text">H Compressed Spanning Subtrees</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#I-Prefix-free-Queries"><span class="toc-number">4.9.</span> <span class="toc-text">I Prefix-free Queries</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#J-Subsequence-Sum-Queries"><span class="toc-number">4.10.</span> <span class="toc-text">J Subsequence Sum Queries</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#K-Consistent-Occurrences"><span class="toc-number">4.11.</span> <span class="toc-text">K Consistent Occurrences</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#L-Increasing-Costs"><span class="toc-number">4.12.</span> <span class="toc-text">L Increasing Costs</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2015-2016-Petrozavodsk-Winter-Training-Camp-Moscow-SU-Trinity-Contest"><span class="toc-number">5.</span> <span class="toc-text">2015-2016 Petrozavodsk Winter Training Camp, Moscow SU Trinity Contest</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#A-ABBA"><span class="toc-number">5.1.</span> <span class="toc-text">A ABBA</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#B-Black-Sabbath"><span class="toc-number">5.2.</span> <span class="toc-text">B Black Sabbath</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#C-Mr-Credo"><span class="toc-number">5.3.</span> <span class="toc-text">C Mr. Credo</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#D-Deep-Purple"><span class="toc-number">5.4.</span> <span class="toc-text">D Deep Purple</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#E-Elvis-Presley"><span class="toc-number">5.5.</span> <span class="toc-text">E Elvis Presley</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#F-Frank-Sinatra"><span class="toc-number">5.6.</span> <span class="toc-text">F Frank Sinatra</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#G-Green-Day"><span class="toc-number">5.7.</span> <span class="toc-text">G Green Day</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#H-Hans-Zimmer"><span class="toc-number">5.8.</span> <span class="toc-text">H Hans Zimmer</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#I-Ivan-Dorn"><span class="toc-number">5.9.</span> <span class="toc-text">I Ivan Dorn</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#J-Jimi-Hendrix"><span class="toc-number">5.10.</span> <span class="toc-text">J Jimi Hendrix</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#K-Korn"><span class="toc-number">5.11.</span> <span class="toc-text">K Korn</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2013-2014-Petrozavodsk-Winter-Training-Camp-Moscow-SU-Trinity-Contest"><span class="toc-number">6.</span> <span class="toc-text">2013-2014 Petrozavodsk Winter Training Camp, Moscow SU Trinity Contest</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#A-MEX-Query"><span class="toc-number">6.1.</span> <span class="toc-text">A MEX-Query</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#B-Beer-Quadrilaterals"><span class="toc-number">6.2.</span> <span class="toc-text">B Beer Quadrilaterals</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#C-The-Palindrome-Extraction"><span class="toc-number">6.3.</span> <span class="toc-text">C The Palindrome Extraction</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#D-Short-Enough-Task"><span class="toc-number">6.4.</span> <span class="toc-text">D Short Enough Task</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#E-Another-Short-Problem"><span class="toc-number">6.5.</span> <span class="toc-text">E Another Short Problem</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#F-Just-Another-Sequence-Problem"><span class="toc-number">6.6.</span> <span class="toc-text">F Just Another Sequence Problem</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#G-Total-LCS"><span class="toc-number">6.7.</span> <span class="toc-text">G Total LCS</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#H-color-silver-Cyclic-color-silver-String"><span class="toc-number">6.8.</span> <span class="toc-text">H $\color{silver}{*Cyclic}$ $\color{silver}{String}$</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#I-Circle-Clique"><span class="toc-number">6.9.</span> <span class="toc-text">I Circle Clique</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#J-Dividing-Area"><span class="toc-number">6.10.</span> <span class="toc-text">J Dividing Area</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#K-Tree-Problem"><span class="toc-number">6.11.</span> <span class="toc-text">K Tree Problem</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2018-2019-ACM-ICPC-Asia-East-Continent-Finals"><span class="toc-number">7.</span> <span class="toc-text">2018-2019 ACM-ICPC, Asia East Continent Finals</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#A-Exotic-%E2%80%A6-Ancient-City"><span class="toc-number">7.1.</span> <span class="toc-text">A Exotic … Ancient City</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#B-Mysterious-%E2%80%A6-Host"><span class="toc-number">7.2.</span> <span class="toc-text">B Mysterious … Host</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#C-Heretical-%E2%80%A6-Mobius"><span class="toc-number">7.3.</span> <span class="toc-text">C Heretical … Möbius</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#D-Deja-vu-of-%E2%80%A6-Go-Players"><span class="toc-number">7.4.</span> <span class="toc-text">D Deja vu of … Go Players</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#E-Immortal-%E2%80%A6-Universe"><span class="toc-number">7.5.</span> <span class="toc-text">E Immortal … Universe</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#F-Interstellar-%E2%80%A6-Fantasy"><span class="toc-number">7.6.</span> <span class="toc-text">F Interstellar … Fantasy</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#G-Omnipotent-%E2%80%A6-Garland"><span class="toc-number">7.7.</span> <span class="toc-text">G Omnipotent … Garland</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#H-color-silver-Saintly%E2%80%A6Coins"><span class="toc-number">7.8.</span> <span class="toc-text">H $\color{silver}{*Saintly…Coins}$</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#I-Misunderstood-%E2%80%A6-Missing"><span class="toc-number">7.9.</span> <span class="toc-text">I Misunderstood … Missing</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#J-Philosophical-%E2%80%A6-Balance"><span class="toc-number">7.10.</span> <span class="toc-text">J Philosophical … Balance</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#K-Desperate-%E2%80%A6-Fire-Survive"><span class="toc-number">7.11.</span> <span class="toc-text">K Desperate … Fire Survive</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#L-Desperate-%E2%80%A6-Fire-Survive"><span class="toc-number">7.12.</span> <span class="toc-text">L Desperate … Fire Survive</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#The-2019-China-Collegiate-Programming-Contest-Harbin-Site"><span class="toc-number">8.</span> <span class="toc-text">The 2019 China Collegiate Programming Contest Harbin Site</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#A-Artful-Paintings"><span class="toc-number">8.1.</span> <span class="toc-text">A Artful Paintings</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#B-Binary-Numbers"><span class="toc-number">8.2.</span> <span class="toc-text">B Binary Numbers</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#C-Competition-in-Swiss-system"><span class="toc-number">8.3.</span> <span class="toc-text">C Competition in Swiss-system</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#D-Driverless-Car"><span class="toc-number">8.4.</span> <span class="toc-text">D Driverless Car</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#E-Exchanging-Gifts"><span class="toc-number">8.5.</span> <span class="toc-text">E Exchanging Gifts</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#F-Fixing-Banners"><span class="toc-number">8.6.</span> <span class="toc-text">F Fixing Banners</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#G-Game-Store"><span class="toc-number">8.7.</span> <span class="toc-text">G Game Store</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#H-Highway-Buses"><span class="toc-number">8.8.</span> <span class="toc-text">H Highway Buses</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#I-Interesting-Permutation"><span class="toc-number">8.9.</span> <span class="toc-text">I Interesting Permutation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#J-Justifying-the-Conjecture"><span class="toc-number">8.10.</span> <span class="toc-text">J Justifying the Conjecture</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#K-Keeping-Rabbits"><span class="toc-number">8.11.</span> <span class="toc-text">K Keeping Rabbits</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#L-LRU-Algorithm"><span class="toc-number">8.12.</span> <span class="toc-text">L LRU Algorithm</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2018-China-Collegiate-Programming-Contest-Final"><span class="toc-number">9.</span> <span class="toc-text">2018 China Collegiate Programming Contest Final</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#A-Mischievous-Problem-Setter"><span class="toc-number">9.1.</span> <span class="toc-text">A Mischievous Problem Setter</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#B-Balance-of-the-Force"><span class="toc-number">9.2.</span> <span class="toc-text">B Balance of the Force</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#C-GCD-Land"><span class="toc-number">9.3.</span> <span class="toc-text">C GCD Land</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#D-Cube"><span class="toc-number">9.4.</span> <span class="toc-text">D Cube</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#E-Mr-Panda-and-Cactus"><span class="toc-number">9.5.</span> <span class="toc-text">E Mr. Panda and Cactus</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#F-color-silver-Cones"><span class="toc-number">9.6.</span> <span class="toc-text">F $\color{silver}{*Cones}$</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#G-Pastoral-Life-in-Stardew-Valley"><span class="toc-number">9.7.</span> <span class="toc-text">G Pastoral Life in Stardew Valley</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#H-Game-on-the-Tree"><span class="toc-number">9.8.</span> <span class="toc-text">H Game on the Tree</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#I-Cockroaches"><span class="toc-number">9.9.</span> <span class="toc-text">I Cockroaches</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#J-Mr-Panda-and-Sequence-Puzzle"><span class="toc-number">9.10.</span> <span class="toc-text">J Mr. Panda and Sequence Puzzle</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#K-Mr-Panda-and-Kakin"><span class="toc-number">9.11.</span> <span class="toc-text">K Mr. Panda and Kakin</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#L-Ultra-Weak-Goldbach%E2%80%99s-Conjecture"><span class="toc-number">9.12.</span> <span class="toc-text">L Ultra Weak Goldbach’s Conjecture</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2018-2019-Winter-Petrozavodsk-Camp-Oleksandr-Kulkov-Contest-1"><span class="toc-number">10.</span> <span class="toc-text">2018-2019 Winter Petrozavodsk Camp, Oleksandr Kulkov Contest 1</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#A-Tritwise-Mex"><span class="toc-number">10.1.</span> <span class="toc-text">A Tritwise Mex</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#B-Associativity-Degree"><span class="toc-number">10.2.</span> <span class="toc-text">B Associativity Degree</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#C-Medium-Hadron-Collider"><span class="toc-number">10.3.</span> <span class="toc-text">C Medium Hadron Collider</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#D-Basis-Change"><span class="toc-number">10.4.</span> <span class="toc-text">D Basis Change</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#E-Scored-Nim"><span class="toc-number">10.5.</span> <span class="toc-text">E Scored Nim</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#F-Milliarium-Aureum"><span class="toc-number">10.6.</span> <span class="toc-text">F Milliarium Aureum</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#G-Permutant"><span class="toc-number">10.7.</span> <span class="toc-text">G Permutant</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#H-Game-Of-Chance"><span class="toc-number">10.8.</span> <span class="toc-text">H Game Of Chance</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#I-Incomparable-Pairs"><span class="toc-number">10.9.</span> <span class="toc-text">I Incomparable Pairs</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#J-The-Zong-of-the-Zee"><span class="toc-number">10.10.</span> <span class="toc-text">J The Zong of the Zee</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#K-Expected-Value"><span class="toc-number">10.11.</span> <span class="toc-text">K Expected Value</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/9102/01/01/%E8%BF%91%E6%9C%9F%E6%9B%B4%E6%96%B0%E7%9A%84%E5%8D%9A%E5%AE%A2/" title="近期更新的博客"><img src="https://pic.imgdb.cn/item/61fa02b12ab3f51d91b5f703.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="近期更新的博客"/></a><div class="content"><a class="title" href="/9102/01/01/%E8%BF%91%E6%9C%9F%E6%9B%B4%E6%96%B0%E7%9A%84%E5%8D%9A%E5%AE%A2/" title="近期更新的博客">近期更新的博客</a><time datetime="9102-01-01T13:50:00.000Z" title="Created 9102-01-01 21:50:00">9102-01-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/21/%E6%AC%A7%E6%8B%89%E5%AE%9A%E7%90%86%E7%9A%84%E4%B8%80%E4%B8%AA%E7%BE%A4%E8%AE%BA%E8%AF%81%E6%B3%95/" title="欧拉定理的一个群论证法"><img src="https://pic.imgdb.cn/item/61fa03142ab3f51d91b646d7.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="欧拉定理的一个群论证法"/></a><div class="content"><a class="title" href="/2022/04/21/%E6%AC%A7%E6%8B%89%E5%AE%9A%E7%90%86%E7%9A%84%E4%B8%80%E4%B8%AA%E7%BE%A4%E8%AE%BA%E8%AF%81%E6%B3%95/" title="欧拉定理的一个群论证法">欧拉定理的一个群论证法</a><time datetime="2022-04-21T15:30:00.000Z" title="Created 2022-04-21 23:30:00">2022-04-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/18/CF2100-3000/" title="CF2100-3000板刷"><img src="https://pic.imgdb.cn/item/61fa2df32ab3f51d91dd72fd.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CF2100-3000板刷"/></a><div class="content"><a class="title" href="/2022/04/18/CF2100-3000/" title="CF2100-3000板刷">CF2100-3000板刷</a><time datetime="2022-04-18T15:30:00.000Z" title="Created 2022-04-18 23:30:00">2022-04-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/08/The%202021%20ICPC%20Asia%20Taipei%20Regional%20Programming%20Contest/" title="The 2021 ICPC Asia Taipei Regional Programming Contest"><img src="https://pic.imgdb.cn/item/61fa02b12ab3f51d91b5f703.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="The 2021 ICPC Asia Taipei Regional Programming Contest"/></a><div class="content"><a class="title" href="/2022/04/08/The%202021%20ICPC%20Asia%20Taipei%20Regional%20Programming%20Contest/" title="The 2021 ICPC Asia Taipei Regional Programming Contest">The 2021 ICPC Asia Taipei Regional Programming Contest</a><time datetime="2022-04-08T15:30:00.000Z" title="Created 2022-04-08 23:30:00">2022-04-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/03/20/CF1654/" title="CF1654"><img src="https://pic.imgdb.cn/item/61fa04402ab3f51d91b740a8.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CF1654"/></a><div class="content"><a class="title" href="/2022/03/20/CF1654/" title="CF1654">CF1654</a><time datetime="2022-03-20T15:30:00.000Z" title="Created 2022-03-20 23:30:00">2022-03-20</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 By foreverlasting</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="Scroll To Comments"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Local search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    chtml: {
      scale: 1.2
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, ''],
        insertScript: [200, () => {
          document.querySelectorAll('mjx-container:not\([display]\)').forEach(node => {
            const target = node.parentNode
            if (target.nodeName.toLowerCase() === 'li') {
              target.parentNode.classList.add('has-jax')
            } else {
              target.classList.add('has-jax')
            }
          });
        }, '', false]
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typeset()
}</script><script>function loadValine () {
  function initValine () {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: 'vBIv3E8Y4e1znLKVs85Y0uSh-gzGzoHsz',
      appKey: 'Dpqs6OR87Ev6XoG6XcSPjToh',
      avatar: 'monsterid',
      serverURLs: '',
      emojiMaps: "",
      path: window.location.pathname,
      visitor: false
    }, null))
  }

  if (typeof Valine === 'function') initValine() 
  else getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js').then(initValine)
}

if ('Valine' === 'Valine' || !true) {
  if (true) btf.loadComment(document.getElementById('vcomment'),loadValine)
  else setTimeout(loadValine, 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>